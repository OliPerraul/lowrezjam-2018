undo_array = array_create(1);
array_copy(undo_array,0,stock,0,array_length_1d(stock));